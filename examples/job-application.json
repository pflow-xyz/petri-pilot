{
  "name": "job-application",
  "description": "A job application workflow: applied → phone screen AND background check (parallel) → interview → offer → hired/rejected",
  "debug": {
    "enabled": true,
    "eval": true
  },
  "places": [
    {"id": "applied", "description": "Application submitted", "initial": 1},
    {"id": "screening", "description": "Initial screening in progress", "initial": 0},
    {"id": "phone_screen_pending", "description": "Phone screen scheduled", "initial": 0},
    {"id": "phone_screen_complete", "description": "Phone screen completed", "initial": 0},
    {"id": "background_check_pending", "description": "Background check in progress", "initial": 0},
    {"id": "background_check_complete", "description": "Background check completed", "initial": 0},
    {"id": "ready_for_interview", "description": "Both screens passed, ready for interview", "initial": 0},
    {"id": "interviewing", "description": "Interview process ongoing", "initial": 0},
    {"id": "offer_extended", "description": "Job offer has been extended", "initial": 0},
    {"id": "hired", "description": "Candidate has been hired", "initial": 0},
    {"id": "rejected", "description": "Application rejected", "initial": 0}
  ],
  "transitions": [
    {"id": "start_screening", "description": "Begin candidate screening"},
    {"id": "schedule_phone_screen", "description": "Schedule phone screen"},
    {"id": "start_background_check", "description": "Initiate background check"},
    {"id": "complete_phone_screen", "description": "Complete phone screen"},
    {"id": "complete_background_check", "description": "Complete background check"},
    {"id": "advance_to_interview", "description": "Both checks passed, advance to interview"},
    {"id": "conduct_interview", "description": "Conduct interview"},
    {"id": "extend_offer", "description": "Extend job offer"},
    {"id": "accept_offer", "description": "Candidate accepts offer"},
    {"id": "reject_after_screen", "description": "Reject after screening"},
    {"id": "reject_after_interview", "description": "Reject after interview"},
    {"id": "decline_offer", "description": "Candidate declines offer"}
  ],
  "arcs": [
    {"from": "applied", "to": "start_screening"},
    {"from": "start_screening", "to": "screening"},
    {"from": "screening", "to": "schedule_phone_screen"},
    {"from": "schedule_phone_screen", "to": "phone_screen_pending"},
    {"from": "screening", "to": "start_background_check"},
    {"from": "start_background_check", "to": "background_check_pending"},
    {"from": "phone_screen_pending", "to": "complete_phone_screen"},
    {"from": "complete_phone_screen", "to": "phone_screen_complete"},
    {"from": "background_check_pending", "to": "complete_background_check"},
    {"from": "complete_background_check", "to": "background_check_complete"},
    {"from": "phone_screen_complete", "to": "advance_to_interview"},
    {"from": "background_check_complete", "to": "advance_to_interview"},
    {"from": "advance_to_interview", "to": "ready_for_interview"},
    {"from": "ready_for_interview", "to": "conduct_interview"},
    {"from": "conduct_interview", "to": "interviewing"},
    {"from": "interviewing", "to": "extend_offer"},
    {"from": "extend_offer", "to": "offer_extended"},
    {"from": "offer_extended", "to": "accept_offer"},
    {"from": "accept_offer", "to": "hired"},
    {"from": "screening", "to": "reject_after_screen"},
    {"from": "reject_after_screen", "to": "rejected"},
    {"from": "interviewing", "to": "reject_after_interview"},
    {"from": "reject_after_interview", "to": "rejected"},
    {"from": "offer_extended", "to": "decline_offer"},
    {"from": "decline_offer", "to": "rejected"}
  ],
  "roles": [
    {
      "id": "candidate",
      "name": "Candidate",
      "description": "Job applicant"
    },
    {
      "id": "recruiter",
      "name": "Recruiter",
      "description": "HR recruiter who screens candidates"
    },
    {
      "id": "hiring_manager",
      "name": "Hiring Manager",
      "description": "Manager who conducts interviews and makes hiring decisions"
    },
    {
      "id": "admin",
      "name": "Administrator",
      "description": "Full access to all operations",
      "inherits": ["recruiter", "hiring_manager"]
    }
  ],
  "access": [
    {
      "transition": "start_screening",
      "roles": ["recruiter"]
    },
    {
      "transition": "schedule_phone_screen",
      "roles": ["recruiter"]
    },
    {
      "transition": "start_background_check",
      "roles": ["recruiter"]
    },
    {
      "transition": "complete_phone_screen",
      "roles": ["recruiter"]
    },
    {
      "transition": "complete_background_check",
      "roles": ["recruiter"]
    },
    {
      "transition": "advance_to_interview",
      "roles": ["recruiter"]
    },
    {
      "transition": "conduct_interview",
      "roles": ["hiring_manager"]
    },
    {
      "transition": "extend_offer",
      "roles": ["hiring_manager"]
    },
    {
      "transition": "accept_offer",
      "roles": ["candidate"]
    },
    {
      "transition": "reject_after_screen",
      "roles": ["recruiter"]
    },
    {
      "transition": "reject_after_interview",
      "roles": ["hiring_manager"]
    },
    {
      "transition": "decline_offer",
      "roles": ["candidate"]
    }
  ],
  "views": [
    {
      "id": "applicant-table",
      "name": "Applicants List",
      "kind": "table",
      "description": "List view of all job applicants",
      "groups": [
        {
          "id": "columns",
          "fields": [
            {"binding": "name", "label": "Name", "type": "text", "readonly": true},
            {"binding": "email", "label": "Email", "type": "email", "readonly": true},
            {"binding": "position", "label": "Position", "type": "text", "readonly": true},
            {"binding": "status", "label": "Status", "type": "text", "readonly": true},
            {"binding": "applied_at", "label": "Applied", "type": "date", "readonly": true}
          ]
        }
      ],
      "actions": ["start_screening", "conduct_interview", "extend_offer"]
    },
    {
      "id": "applicant-detail",
      "name": "Applicant Detail",
      "kind": "detail",
      "description": "Full applicant profile and application details",
      "groups": [
        {
          "id": "personal",
          "name": "Personal Information",
          "fields": [
            {"binding": "name", "label": "Full Name", "type": "text", "readonly": true},
            {"binding": "email", "label": "Email", "type": "email", "readonly": true},
            {"binding": "phone", "label": "Phone", "type": "text", "readonly": true}
          ]
        },
        {
          "id": "application",
          "name": "Application Details",
          "fields": [
            {"binding": "position", "label": "Position Applied", "type": "text", "readonly": true},
            {"binding": "experience_years", "label": "Years of Experience", "type": "number", "readonly": true},
            {"binding": "resume_url", "label": "Resume", "type": "text", "readonly": true}
          ]
        },
        {
          "id": "screening",
          "name": "Screening Results",
          "fields": [
            {"binding": "phone_screen_notes", "label": "Phone Screen Notes", "type": "textarea", "readonly": true},
            {"binding": "background_check_status", "label": "Background Check", "type": "text", "readonly": true}
          ]
        }
      ],
      "actions": ["start_screening", "schedule_phone_screen", "complete_phone_screen", "conduct_interview", "extend_offer", "reject_after_screen", "reject_after_interview"]
    }
  ]
}
