{
  "name": "blog-post",
  "description": "A blog post workflow: draft → review → published, with ability to reject back to draft",
  "places": [
    {"id": "draft", "description": "Post is being written", "initial": 1},
    {"id": "in_review", "description": "Post is awaiting editorial review", "initial": 0},
    {"id": "published", "description": "Post is live on the site", "initial": 0},
    {"id": "archived", "description": "Post has been taken down", "initial": 0}
  ],
  "transitions": [
    {"id": "submit", "description": "Submit draft for review"},
    {"id": "approve", "description": "Approve and publish the post"},
    {"id": "reject", "description": "Reject and return to draft"},
    {"id": "unpublish", "description": "Take down a published post"},
    {"id": "restore", "description": "Restore archived post to draft"}
  ],
  "arcs": [
    {"from": "draft", "to": "submit"},
    {"from": "submit", "to": "in_review"},
    {"from": "in_review", "to": "approve"},
    {"from": "approve", "to": "published"},
    {"from": "in_review", "to": "reject"},
    {"from": "reject", "to": "draft"},
    {"from": "published", "to": "unpublish"},
    {"from": "unpublish", "to": "archived"},
    {"from": "archived", "to": "restore"},
    {"from": "restore", "to": "draft"}
  ],
  "roles": [
    {
      "id": "author",
      "name": "Author",
      "description": "Content creator who writes and submits posts"
    },
    {
      "id": "editor",
      "name": "Editor",
      "description": "Reviews and approves/rejects submitted posts"
    },
    {
      "id": "admin",
      "name": "Administrator",
      "description": "Full access to all operations",
      "inherits": ["author", "editor"]
    }
  ],
  "access": [
    {
      "transition": "submit",
      "roles": ["author"]
    },
    {
      "transition": "approve",
      "roles": ["editor"]
    },
    {
      "transition": "reject",
      "roles": ["editor"]
    },
    {
      "transition": "unpublish",
      "roles": ["editor"]
    },
    {
      "transition": "restore",
      "roles": ["admin"]
    }
  ],
  "views": [
    {
      "id": "post-table",
      "name": "Posts List",
      "kind": "table",
      "description": "List view of all blog posts",
      "groups": [
        {
          "id": "columns",
          "fields": [
            {"binding": "title", "label": "Title", "type": "text"},
            {"binding": "author", "label": "Author", "type": "text"},
            {"binding": "status", "label": "Status", "type": "text", "readonly": true},
            {"binding": "updated_at", "label": "Last Updated", "type": "date", "readonly": true}
          ]
        }
      ],
      "actions": ["submit", "approve", "reject"]
    },
    {
      "id": "post-detail",
      "name": "Post Detail",
      "kind": "detail",
      "description": "Full detail view of a blog post",
      "groups": [
        {
          "id": "content",
          "name": "Content",
          "fields": [
            {"binding": "title", "label": "Title", "type": "text", "required": true},
            {"binding": "content", "label": "Content", "type": "textarea", "required": true},
            {"binding": "author", "label": "Author", "type": "text", "readonly": true}
          ]
        },
        {
          "id": "metadata",
          "name": "Metadata",
          "fields": [
            {"binding": "status", "label": "Status", "type": "text", "readonly": true},
            {"binding": "created_at", "label": "Created", "type": "date", "readonly": true},
            {"binding": "updated_at", "label": "Updated", "type": "date", "readonly": true}
          ]
        }
      ],
      "actions": ["submit", "approve", "reject", "unpublish", "restore"]
    }
  ]
}
