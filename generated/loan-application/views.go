// Code generated by petri-pilot. DO NOT EDIT.

package main

import (
	"encoding/json"
)

// ViewKind specifies the type of view.
type ViewKind string

const (
	ViewKindForm   ViewKind = "form"
	ViewKindCard   ViewKind = "card"
	ViewKindTable  ViewKind = "table"
	ViewKindDetail ViewKind = "detail"
)

// View represents a UI view definition.
type View struct {
	ID          string      `json:"id"`
	Name        string      `json:"name,omitempty"`
	Kind        ViewKind    `json:"kind,omitempty"`
	Description string      `json:"description,omitempty"`
	Groups      []ViewGroup `json:"groups,omitempty"`
	Actions     []string    `json:"actions,omitempty"`
}

// ViewGroup represents a logical grouping of fields within a view.
type ViewGroup struct {
	ID     string      `json:"id"`
	Name   string      `json:"name,omitempty"`
	Fields []ViewField `json:"fields"`
}

// ViewField represents a single field within a view group.
type ViewField struct {
	Binding     string `json:"binding"`
	Label       string `json:"label,omitempty"`
	Type        string `json:"type,omitempty"`
	Required    bool   `json:"required,omitempty"`
	ReadOnly    bool   `json:"readonly,omitempty"`
	Placeholder string `json:"placeholder,omitempty"`
}

// Views contains all view definitions for this workflow.
var Views = []View{
	{
		ID:          "loan-table",
		Name:        "Loans List",
		Kind:        ViewKind("table"),
		Description: "List view of all loan applications",
		Groups: []ViewGroup{
			{
				ID:   "columns",
				Name: "",
				Fields: []ViewField{
					{
						Binding:     "application_id",
						Label:       "Application ID",
						Type:        "text",
						Required:    false,
						ReadOnly:    true,
						Placeholder: "",
					},
					{
						Binding:     "applicant_name",
						Label:       "Applicant",
						Type:        "text",
						Required:    false,
						ReadOnly:    true,
						Placeholder: "",
					},
					{
						Binding:     "amount",
						Label:       "Amount",
						Type:        "number",
						Required:    false,
						ReadOnly:    true,
						Placeholder: "",
					},
					{
						Binding:     "status",
						Label:       "Status",
						Type:        "text",
						Required:    false,
						ReadOnly:    true,
						Placeholder: "",
					},
					{
						Binding:     "submitted_at",
						Label:       "Submitted",
						Type:        "date",
						Required:    false,
						ReadOnly:    true,
						Placeholder: "",
					},
				},
			},
		},
		Actions: []string{
			"underwriter_approve",
			"underwriter_deny",
			"disburse",
		},
	},
	{
		ID:          "loan-detail",
		Name:        "Loan Detail",
		Kind:        ViewKind("detail"),
		Description: "Full loan application details",
		Groups: []ViewGroup{
			{
				ID:   "applicant",
				Name: "Applicant Information",
				Fields: []ViewField{
					{
						Binding:     "applicant_name",
						Label:       "Name",
						Type:        "text",
						Required:    false,
						ReadOnly:    true,
						Placeholder: "",
					},
					{
						Binding:     "applicant_email",
						Label:       "Email",
						Type:        "email",
						Required:    false,
						ReadOnly:    true,
						Placeholder: "",
					},
					{
						Binding:     "applicant_phone",
						Label:       "Phone",
						Type:        "text",
						Required:    false,
						ReadOnly:    true,
						Placeholder: "",
					},
					{
						Binding:     "annual_income",
						Label:       "Annual Income",
						Type:        "number",
						Required:    false,
						ReadOnly:    true,
						Placeholder: "",
					},
				},
			},
			{
				ID:   "loan",
				Name: "Loan Details",
				Fields: []ViewField{
					{
						Binding:     "amount",
						Label:       "Loan Amount",
						Type:        "number",
						Required:    false,
						ReadOnly:    true,
						Placeholder: "",
					},
					{
						Binding:     "term_months",
						Label:       "Term (Months)",
						Type:        "number",
						Required:    false,
						ReadOnly:    true,
						Placeholder: "",
					},
					{
						Binding:     "interest_rate",
						Label:       "Interest Rate",
						Type:        "number",
						Required:    false,
						ReadOnly:    true,
						Placeholder: "",
					},
					{
						Binding:     "purpose",
						Label:       "Purpose",
						Type:        "text",
						Required:    false,
						ReadOnly:    true,
						Placeholder: "",
					},
				},
			},
			{
				ID:   "credit",
				Name: "Credit Information",
				Fields: []ViewField{
					{
						Binding:     "credit_score",
						Label:       "Credit Score",
						Type:        "number",
						Required:    false,
						ReadOnly:    true,
						Placeholder: "",
					},
					{
						Binding:     "debt_to_income",
						Label:       "Debt-to-Income Ratio",
						Type:        "number",
						Required:    false,
						ReadOnly:    true,
						Placeholder: "",
					},
				},
			},
		},
		Actions: []string{
			"underwriter_approve",
			"underwriter_deny",
			"disburse",
			"make_payment",
			"mark_default",
		},
	},
	{
		ID:          "loan-application-form",
		Name:        "Loan Application",
		Kind:        ViewKind("form"),
		Description: "Form for submitting a loan application",
		Groups: []ViewGroup{
			{
				ID:   "personal",
				Name: "Personal Information",
				Fields: []ViewField{
					{
						Binding:     "applicant_name",
						Label:       "Full Name",
						Type:        "text",
						Required:    true,
						ReadOnly:    false,
						Placeholder: "",
					},
					{
						Binding:     "applicant_email",
						Label:       "Email",
						Type:        "email",
						Required:    true,
						ReadOnly:    false,
						Placeholder: "",
					},
					{
						Binding:     "applicant_phone",
						Label:       "Phone",
						Type:        "text",
						Required:    true,
						ReadOnly:    false,
						Placeholder: "",
					},
				},
			},
			{
				ID:   "loan",
				Name: "Loan Request",
				Fields: []ViewField{
					{
						Binding:     "amount",
						Label:       "Requested Amount",
						Type:        "number",
						Required:    true,
						ReadOnly:    false,
						Placeholder: "10000",
					},
					{
						Binding:     "term_months",
						Label:       "Loan Term (Months)",
						Type:        "number",
						Required:    true,
						ReadOnly:    false,
						Placeholder: "",
					},
					{
						Binding:     "purpose",
						Label:       "Purpose",
						Type:        "text",
						Required:    true,
						ReadOnly:    false,
						Placeholder: "",
					},
				},
			},
			{
				ID:   "income",
				Name: "Income Information",
				Fields: []ViewField{
					{
						Binding:     "annual_income",
						Label:       "Annual Income",
						Type:        "number",
						Required:    true,
						ReadOnly:    false,
						Placeholder: "",
					},
					{
						Binding:     "employer",
						Label:       "Employer",
						Type:        "text",
						Required:    true,
						ReadOnly:    false,
						Placeholder: "",
					},
				},
			},
		},
		Actions: []string{
			"run_credit_check",
		},
	},
}

// GetView returns a view by its ID, or nil if not found.
func GetView(id string) *View {
	for i := range Views {
		if Views[i].ID == id {
			return &Views[i]
		}
	}
	return nil
}

// ViewsJSON returns all views as JSON.
func ViewsJSON() ([]byte, error) {
	return json.Marshal(Views)
}
